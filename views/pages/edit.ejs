<!-- Header -->
<%- include('../partial/header') %>

<!-- Content -->
<div class="m-5 text-white">
  <!-- Location -->
  <%- include('../partial/location', {page: "Détails"}) %>

  <!-- Back button -->
  <div class="m-3">
    <a href="/?page=<%- previousPage %>" class="inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
      <svg aria-hidden="true" class="w-4 h-4 mr-2 -ml-1 rotate-180" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
      Retour
    </a>
  </div>

  <!-- Edit form -->
  <div class="mt-3">
    <h1 class="text-3xl font-bold">Modifier le pokemon #<%- pokemon.id %></h1>
    <form class="mt-2 p-2" action="/edit" method="post">
      <!-- Hidden fields -->
      <input type="number" name="id" hidden value="<%- pokemon.id %>" />
      <input type="number" name="previousPage" hidden value="<%- previousPage %>" />

      <div class="grid gap-6 mb-6 grid-cols-1">
        <div>
          <label for="name" class="block mb-2 text-sm font-medium text-white">Nom</label>
          <input type="text" id="name" name="name" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" placeholder="Pikachu" value="<%- pokemon.name %>" required>
        </div>
        <div>
          <label for="description" class="block mb-2 text-sm font-medium text-white">Description</label>
          <input type="text" id="description" name="description" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" placeholder="Pokemon très étrange, curieux et joueur" value="<%- pokemon.description %>" required>
        </div>
        <div>
          <label for="type" class="block mb-2 text-sm font-medium text-white">Type</label>
          <select id="type" name="type" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
            <% types.forEach(type => { %>
              <!-- Make the current type selected -->
              <option value="<%- type.id %>" <% if (type.name === pokemon.type) { %> selected <% } %>><%- type.name %></option>
            <% }) %>
          </select>
        </div>
        <div>
          <label for="ability" class="block mb-2 text-sm font-medium text-white">Capacité</label>
          <select id="ability" name="ability" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
            <% abilities.forEach(ability => { %>
              <!-- Make the current ability selected -->
              <option value="<%- ability.id %>" <% if (ability.name === pokemon.ability) { %> selected <% } %>><%- ability.name %></option>
            <% }) %>
          </select>
        </div>
      </div>

      <button type="submit" class="text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-500 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center">Enregistrer</button>
    </form>
  </div>

</div>

<!-- Footer -->
<%- include('../partial/footer.ejs') %>